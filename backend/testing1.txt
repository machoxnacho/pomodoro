docker buildx build \
  --platform linux/amd64 \
  -t 900546069136.dkr.ecr.us-east-1.amazonaws.com/smiski-backend:latest \
  --push .
[+] Building 4.8s (14/18)                                                               docker-container:relaxed_diffie
 => [internal] load build definition from Dockerfile                                                               0.0s
 => => transferring dockerfile: 841B                                                                               0.0s
 => [internal] load metadata for docker.io/library/node:18-alpine                                                  0.3s
 => [internal] load .dockerignore                                                                                  0.0s
 => => transferring context: 2B                                                                                    0.0s
 => [internal] load build context                                                                                  0.5s
 => => transferring context: 691.77kB                                                                              0.5s
 => [frontend 1/8] FROM docker.io/library/node:18-alpine@sha256:8d6421d663b4c28fd3ebc498332f249011d118945588d0a35  0.0s
 => => resolve docker.io/library/node:18-alpine@sha256:8d6421d663b4c28fd3ebc498332f249011d118945588d0a35cb9bc4b8c  0.0s
 => CACHED [frontend 2/8] WORKDIR /app                                                                             0.0s
 => CACHED [frontend 3/8] COPY package.json package-lock.json ./                                                   0.0s
 => CACHED [frontend 4/8] COPY ./public ./public                                                                   0.0s
 => CACHED [frontend 5/8] COPY ./src ./src                                                                         0.0s
 => CACHED [frontend 6/8] RUN ls -la ./src                                                                         0.0s
 => CACHED [frontend 7/8] RUN npm install                                                                          0.0s
 => ERROR [frontend 8/8] RUN npm run build                                                                         3.8s
 => CACHED [backend 3/7] COPY ./backend ./backend                                                                  0.0s
 => CACHED [backend 4/7] COPY ./backend/package.json ./backend/package-lock.json ./backend/                        0.0s
------                                                                                                                  
 > [frontend 8/8] RUN npm run build:                                                                                    
0.686                                                                                                                   
0.686 > work-faster@0.1.0 build                                                                                         
0.686 > react-scripts build
0.686 
2.763 Creating an optimized production build...
3.755 Failed to compile.
3.755 
3.755 Module not found: Error: Can't resolve './App' in '/app/src'
3.755 
3.755 
------
Dockerfile:15
--------------------
  13 |     # Install frontend dependencies and build React app
  14 |     RUN npm install
  15 | >>> RUN npm run build
  16 |     
  17 |     # ---- Backend Build Stage ----
--------------------
ERROR: failed to build: failed to solve: process "/bin/sh -c npm run build" did not complete successfully: exit code: 1

View build details: docker-desktop://dashboard/build/relaxed_diffie/relaxed_diffie0/5glxu1fih56t32ss6o5ovihe2






backend
build
Dockerfile
node_modules
package-lock.json
package.json
public
README.md
src
tsconfig.json
work-faster-backup.tar.gz

./backend:
data.json
get-docker.sh
node_modules
package-lock.json
package.json
server.js

./backend/node_modules:
@aws-crypto
@aws-sdk
@smithy
@types
accepts
available-typed-arrays
aws-sdk
base64-js
body-parser
bowser
buffer
bytes
call-bind
call-bind-apply-helpers
call-bound
content-disposition
content-type
cookie
cookie-signature
cors
debug
define-data-property
depd
dotenv
dunder-proto
ee-first
encodeurl
es-define-property
es-errors
es-object-atoms
escape-html
etag
events
express
fast-xml-parser
finalhandler
for-each
forwarded
fresh
function-bind
get-intrinsic
get-proto
gopd
has-property-descriptors
has-symbols
has-tostringtag
hasown
http-errors
iconv-lite
ieee754
inherits
ipaddr.js
is-arguments
is-callable
is-generator-function
is-promise
is-regex
is-typed-array
isarray
jmespath
math-intrinsics
media-typer
merge-descriptors
mime-db
mime-types
mnemonist
ms
negotiator
object-assign
object-inspect
obliterator
on-finished
once
parseurl
path-to-regexp
possible-typed-array-names
proxy-addr
punycode
qs


